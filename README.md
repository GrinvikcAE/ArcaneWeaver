# ArcaneWeaver

Комплексная система для создания и управления настольными RPG-мирами, генерацией контента и расширяемой системой модификаций.

## Описание

ArcaneWeaver предоставляет фреймворк для построения игровых сущностей без необходимости программирования. Система построена на компонентной архитектуре, что позволяет легко создавать, модифицировать и расширять игровые сущности.

## Основные возможности

- **Компонентная система сущностей** - построение игровых объектов через композицию компонентов
- **Система статистик** - управление атрибутами и характеристиками с валидацией
- **Система инвентаря** - гибкое управление предметами с ячеечной структурой
- **Система правил** - разрешение игровых правил и условий
- **Генерация контента** - автоматическая генерация персонажей, предметов, локаций и квестов
- **Система модификаций** - расширяемость через модули и хуки
- **Экспорт данных** - поддержка различных форматов вывода (HTML, PDF, JSON, Console)
- **Автоматическая генерация UI** - создание конфигураций форм из моделей данных


## Структура проекта

```
ArcaneWeaver/
├── src/
│   └── arcaneweaver/          # Основной пакет
│       ├── core/              # Ядро системы
│       │   ├── entity_system/ # Система сущностей (ECS)
│       │   │   ├── components.py    # Базовые компоненты
│       │   │   ├── entity.py        # Управление сущностями
│       │   │   └── archetypes/      # Архетипы сущностей
│       │   ├── rules/         # Система правил
│       │   │   ├── dice.py          # Механика кубиков
│       │   │   ├── resolver.py      # Разрешение правил
│       │   │   └── conditions/      # Условия правил
│       │   ├── world/         # Управление миром
│       │   │   ├── state.py         # Состояние мира
│       │   │   ├── relations.py     # Связи между сущностями
│       │   │   └── timeline.py      # Временная линия событий
│       │   └── modding/       # Система модификаций
│       │       ├── loader.py        # Загрузка модов
│       │       ├── registry.py      # Регистрация модов
│       │       └── hooks.py         # Система хуков
│       ├── loom/              # Генерация контента
│       │   ├── generators/    # Генераторы контента
│       │   │   ├── character_gen.py # Генерация персонажей
│       │   │   ├── item_gen.py      # Генерация предметов
│       │   │   ├── location_gen.py  # Генерация локаций
│       │   │   └── quest_gen.py     # Генерация квестов
│       │   ├── templates/     # Шаблоны для генерации
│       │   └── validator.py   # Валидация контента
│       ├── patterns/          # Библиотеки паттернов
│       │   ├── character_lib/ # Паттерны персонажей
│       │   ├── item_lib/      # Паттерны предметов
│       │   ├── location_lib/  # Паттерны локаций
│       │   ├── rules_lib/     # Паттерны правил
│       │   └── ability_lib/   # Паттерны способностей
│       ├── storage/           # Система сохранения
│       │   └── serializers/   # Сериализаторы
│       │       └── json_serializer.py
│       ├── tapestry/          # Рендеринг и UI
│       │   ├── render/        # Рендереры
│       │   │   ├── html.py    # HTML экспорт
│       │   │   ├── pdf.py     # PDF экспорт
│       │   │   ├── json.py    # JSON экспорт
│       │   │   └── console.py # Консольный вывод
│       │   └── ui_components/ # UI компоненты
│       │       ├── displays.py # Отображение данных
│       │       └── forms.py    # Формы редактирования
│       └── threads/            # Связи и контексты
│           ├── geographic/    # Географические связи
│           ├── narrative/     # Повествовательные связи
│           └── social/        # Социальные связи
├── tests/                     # Тесты
│   └── test_components.py     # Тесты компонентов
├── data/                      # Данные проекта
│   ├── presets/              # Предустановки
│   │   ├── characters/       # Шаблоны персонажей
│   │   ├── items/           # Шаблоны предметов
│   │   └── worlds/          # Шаблоны миров
│   └── user_data/           # Пользовательские данные
│       ├── mods/            # Модификации
│       ├── saves/           # Сохранения
│       └── templates/       # Пользовательские шаблоны
├── examples/                 # Примеры использования
│   ├── basic/               # Базовые примеры
│   ├── campaign/            # Примеры кампаний
│   └── custom_rules/        # Примеры правил
├── docs/                     # Документация
└── pyproject.toml           # Конфигурация проекта
```

## Модули проекта

### Core

- **entity_system** - система сущностей и компонентов
- **rules** - система правил и разрешения действий
- **world** - управление состоянием мира и временной линией
- **modding** - система модификаций и расширений

### Loom

- Автоматическая генерация игрового контента
- Шаблоны для персонажей, предметов, локаций, квестов
- Валидация сгенерированного контента

### Patterns

- Библиотеки повторно используемых паттернов
- Готовые шаблоны для различных игровых сущностей

### Tapestry

- Рендеринг данных в различных форматах
- UI компоненты для редактирования
- Экспорт в HTML, PDF, JSON

### Storage

- Сериализация и десериализация данных
- Поддержка различных форматов сохранения
